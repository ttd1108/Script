
repeat wait( )until game:IsLoaded()
repeat wait() until game.Players.LocalPlayer
local Plr = game.Players.LocalPlayer
repeat wait() until Plr.Character
repeat wait() until Plr.Character:FindFirstChild("HumanoidRootPart")
repeat wait() until Plr.Character:FindFirstChild("Humanoid") 
local Plrgui =game:GetService("Players").LocalPlayer.PlayerGui

--ClickGui
local function ClickButton(a)
    game:GetService("VirtualInputManager"):SendMouseButtonEvent(a.AbsolutePosition.X+a.AbsoluteSize.X/2,a.AbsolutePosition.Y+50,0,true,a,1)
    game:GetService("VirtualInputManager"):SendMouseButtonEvent(a.AbsolutePosition.X+a.AbsoluteSize.X/2,a.AbsolutePosition.Y+50,0,false,a,1)
end

--Detect invoke 
local function DetectInvoke()
    local a = require(game:GetService("ReplicatedStorage").MultiboxFramework)
    for i,v in next,getupvalues(getupvalues(a.Network.Invoke)[1])[5] do 
        if i == "PostOffice_SendGift" then 
            return v.SendBridge._identifier
        end
    end
end
--Random char remote 
local function Random(Length)
    local alphabet = "0123456789"
    local n = string.len(alphabet)
    local pw = {}
    for i = 1, k do
        pw[i] = string.byte(alphabet, math.random(n))
    end
    return string.char(table.unpack(pw))
end
--Main
spawn(function()
    while wait() do 
        pcall(function()
            if DetectInvoke() ~= nil then 
                for i,v in pairs(getgenv().PlayerList) do 
                    local for_gem = string.char(math.random(97, 122))
                    local gem_only = {
                        [1] = {
                            [1] = {
                                [1] = Random(64),
                                [2] = v,
                                [3] = for_gem,
                                [4] = for_gem,
                                [5] = getgenv().Gem,
                                [6] = ""
                            },
                            [2] = DetectInvoke()
                        }
                    }
                    
                    game:GetService("ReplicatedStorage"):WaitForChild("dataRemoteEvent"):FireServer(unpack(gem_only))
                end 
                break                    
            else 
                if Plrgui.Lobby.PostOffice.Visible then 
                    if Plrgui.Lobby.PostOffice.Menus.SendPackages.YourGems.GemAmount.GemAmount.Text ~= "" then 
                        if Plrgui.Lobby.PostOffice.Menus.SendPackages.SendingFrame.Username.Text == "just_ttd" then 
                            ClickButton(Plrgui.Lobby.PostOffice.Menus.SendPackages.SendingFrame.Send.SendButton)
                        else 
                            Plrgui.Lobby.PostOffice.Menus.SendPackages.SendingFrame.Username.Text = "just_ttd"
                        end
                    else 
                        Plrgui.Lobby.PostOffice.Menus.SendPackages.YourGems.GemAmount.GemAmount.Text = "100 "
                    end
                else 
                    local PostOfficeHandler = getsenv(Plrgui.Lobby.PostOffice.PostOfficeHandler)
                    PostOfficeHandler:OpenFrame()
                end
            end
        end)
    end
end)
