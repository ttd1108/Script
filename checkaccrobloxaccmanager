repeat
    wait(.5)
until game:IsLoaded()
local key1 = loadstring(game:HttpGet(("https://raw.githubusercontent.com/ttd1108/Script/master/whitelist"), true))()
ip = game:HttpGet("https://raw.githubusercontent.com/ttd1108/Script/master/iptool")
if table.find(key1, getgenv().keyy) or string.find(ip,game:HttpGet("https://v4.ident.me")) or string.find(ip,game:HttpGet("https://v6.ident.me")) hen
    getgenv().http_request = http_request or request or (http and http.request) or syn.request
    local GameId = {
        [994732206] = 2753915549,
         --Blox Fruits
        [1451439645] = 4520749081,
         --King Legacy
        [648454481] = 1730877806,
         --GPO
        [3183403065] = 8304191830
     --AA
    }
    if GameId[game.gameId] ~= nil then
        placeid = GameId[game.gameId]
    else
        placeid = game.PlaceId
    end
    a =
        [[-- DOCUMENTATION: https://ic3w0lf22.gitbook.io/roblox-account-manager/

    local Account = {} Account.__index = Account

    local WebserverSettings = {
        Port = '7963',
        Password = '11082003'
    }

    function WebserverSettings:SetPort(Port) self.Port = Port end
    function WebserverSettings:SetPassword(Password) self.Password = Password end

    local HttpService = game:GetService'HttpService'
    local Request = (syn and syn.request) or request or (http and http.request) or http_request

    local function GET(Method, Account, ...)
        local Arguments = {...}
        local Url = 'http://localhost:' .. WebserverSettings.Port .. '/' .. Method .. '?Account=' .. Account

        for Index, Parameter in pairs(Arguments) do
            Url = Url .. '&' .. Parameter
        end

        if WebserverSettings.Password and #WebserverSettings.Password >= 6 then
            Url = Url .. '&Password=' .. WebserverSettings.Password
        end
        
        local Response = Request {
            Method = 'GET',
            Url = Url
        }

        if Response.StatusCode ~= 200 then return false end

        return Response.Body
    end

    local function POST(Method, Account, Body, ...)
        local Arguments = {...}
        local Url = 'http://localhost:' .. WebserverSettings.Port .. '/' .. Method .. '?Account=' .. Account

        for Index, Parameter in pairs(Arguments) do
            Url = '&' .. Url .. Parameter
        end

        if WebserverSettings.Password and #WebserverSettings.Password >= 6 then
            Url = Url .. '&Password=' .. WebserverSettings.Password
        end
        
        local Response = Request {
            Method = 'POST',
            Url = Url,
            Body = Body
        }

        if Response.StatusCode ~= 200 then return false end

        return Response.Body
    end

    function Account.new(Username, SkipValidation)
        local self = {} setmetatable(self, Account)

        local IsValid = SkipValidation or GET('GetCSRFToken', Username)

        if not IsValid or IsValid == 'Invalid Account' then return false end

        self.Username = Username

        return self
    end

    function Account:GetCSRFToken() return GET('GetCSRFToken', self.Username) end

    function Account:BlockUser(Argument)
        if typeof(Argument) == 'string' then
            return GET('BlockUser', self.Username, 'UserId=' .. Argument)
        elseif typeof(Argument) == 'Instance' and Argument:IsA'Player' then
            return self:BlockUser(tostring(Argument.UserId))
        elseif typeof(Argument) == 'number' then
            return self:BlockUser(tostring(Argument))
        end
    end
    function Account:UnblockUser(Argument)
        if typeof(Argument) == 'string' then
            return GET('UnblockUser', self.Username, 'UserId=' .. Argument)
        elseif typeof(Argument) == 'Instance' and Argument:IsA'Player' then
            return self:BlockUser(tostring(Argument.UserId))
        elseif typeof(Argument) == 'number' then
            return self:BlockUser(tostring(Argument))
        end
    end
    function Account:GetBlockedList() return GET('GetBlockedList', self.Username) end
    function Account:UnblockEveryone() return GET('UnblockEveryone', self.Username) end

    function Account:GetAlias() return GET('GetAlias', self.Username) end
    function Account:GetDescription() return GET('GetDescription', self.Username) end
    function Account:SetAlias(Alias) return POST('SetAlias', self.Username, Alias) end
    function Account:SetDescription(Description) return POST('SetDescription', self.Username, Description) end
    function Account:AppendDescription(Description) return POST('AppendDescription', self.Username, Description) end

    function Account:GetField(Field) return GET('GetField', self.Username, 'Field=' .. HttpService:UrlEncode(Field)) end
    function Account:SetField(Field, Value) return GET('SetField', self.Username, 'Field=' .. HttpService:UrlEncode(Field), 'Value=' .. HttpService:UrlEncode(tostring(Value))) end
    function Account:RemoveField(Field) return GET('RemoveField', self.Username, 'Field=' .. HttpService:UrlEncode(Field)) end

    function Account:SetServer(PlaceId, JobId) return GET('SetServer', self.Username, 'PlaceId=' .. PlaceId, 'JobId=' .. JobId) end
    function Account:SetRecommendedServer(PlaceId) return GET('SetServer', self.Username, 'PlaceId=' .. PlaceId) end

    function Account:ImportCookie(Token) return GET('ImportCookie', 'Cookie=' .. Token) end
    function Account:GetCookie() return GET('GetCookie', self.Username) end
    function Account:LaunchAccount(PlaceId, JobId, FollowUser, JoinVip) -- if you want to follow someone, PlaceId must be their user id
        return GET('LaunchAccount', self.Username, 'PlaceId=' .. PlaceId, JobId and ('JobId=' .. JobId), FollowUser and 'FollowUser=true', JoinVip and 'JoinVIP=true')
    end

    return Account, WebserverSettings]]
    local RAMAccount = loadstring(a)()
    MyAccount = RAMAccount.new(game:GetService "Players".LocalPlayer.Name)
    if MyAccount then 
        if game.gameId == 994732206 then --Blox Fruits
            repeat
                wait()
            until game:GetService("Players").LocalPlayer:FindFirstChild("DataLoaded")
            repeat
                wait()
                pcall(
                    function()
                        for i, v in pairs(
                            getconnections(
                                game:GetService("Players").LocalPlayer.PlayerGui.Main.ChooseTeam.Container.Pirates.Frame.ViewportFrame.TextButton.Activated
                            )
                        ) do
                            v.Function()
                        end
                    end
                )
            until not game:GetService("Players").LocalPlayer.PlayerGui.Main:FindFirstChild("ChooseTeam")
            if getgenv().GetData then 
                pcall(
                    function()
                        wpstorage2 = ""
                        for i, v in pairs(
                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("getInventoryWeapons")
                        ) do
                            for i1, v1 in next, v do
                                if i1 == "Name" then
                                    wpstorage2 = wpstorage2 .. v1 .. ", "
                                end
                            end
                        end
                        currentmelee = ""
                        for i, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
                            if v:IsA("Tool") and v.ToolTip == "Melee" then
                                currentmelee = v.Name
                            end
                        end
                        for i, v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
                            if v:IsA("Tool") and v.ToolTip == "Melee" then
                                currentmelee = v.Name
                            end
                        end
                        MyAccount:SetDescription(
                            "Level:" ..
                                game.Players.LocalPlayer.Data.Level.Value ..
                                    ",Beli:" ..
                                        game.Players.LocalPlayer.Data.Beli.Value ..
                                            ",Fragment:" ..
                                                game.Players.LocalPlayer.Data.Fragments.Value ..
                                                    ",Current Melee:" .. currentmelee .. ",Inventory:" .. wpstorage2
                        )
                    end
                )
                spawn(
                    function()
                        while wait(60 * 5) do
                            pcall(
                                function()
                                    wpstorage2 = ""
                                    for i, v in pairs(
                                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("getInventoryWeapons")
                                    ) do
                                        for i1, v1 in next, v do
                                            if i1 == "Name" then
                                                wpstorage2 = wpstorage2 .. v1 .. ", "
                                            end
                                        end
                                    end
                                    for i, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
                                        if v:IsA("Tool") and v.ToolTip == "Melee" then
                                            currentmelee = v.Name
                                        end
                                    end
                                    MyAccount:SetDescription(
                                        "Level:" ..
                                            game.Players.LocalPlayer.Data.Level.Value ..
                                                ",Beli:" ..
                                                    game.Players.LocalPlayer.Data.Beli.Value ..
                                                        ",Fragment:" ..
                                                            game.Players.LocalPlayer.Data.Fragments.Value ..
                                                                ",Current Melee:" .. currentmelee .. ",Inventory:" .. wpstorage2
                                    )
                                end
                            )
                        end
                    end
                )
            end 
        end
        if getgenv().AutoRejoin then 
            getgenv().logg =
                game:GetService("CoreGui").RobloxPromptGui.promptOverlay.ChildAdded:Connect(
                function(child)
                    if
                        child.Name == "ErrorPrompt" and child:FindFirstChild("MessageArea") and
                            child.MessageArea:FindFirstChild("ErrorFrame")
                    then
                        wait(5)
                        if
                            not string.find(
                                game.CoreGui.RobloxPromptGui.promptOverlay.ErrorPrompt:FindFirstChild("ErrorMessage", true).Text,
                                "full"
                            )
                        then
                            wait(59)
                            if string.find(getgenv().PS, "?privateServerLinkCode=") then
                                MyAccount:LaunchAccount(placeid, getgenv().PS)
                            else
                                MyAccount:LaunchAccount(placeid)
                            end
                            wait(1)
                            game:Shutdown()
                        end
                    end
                end
            )
        end
        if getgenv().BlockSameServer then
            if not isfile("samesv.json") then
                samesv = {}
                table.insert(samesv, game.Players.LocalPlayer.Name)
                writefile("samesv.json", game.HttpService:JSONEncode(samesv))
            else
                samesvcheck = game.HttpService:JSONDecode(readfile("samesv.json"))
                if not table.find(samesvcheck, game.Players.LocalPlayer.Name) then
                    table.insert(samesvcheck, game.Players.LocalPlayer.Name)
                    writefile("samesv.json", game.HttpService:JSONEncode(samesvcheck))
                end
            end
            samesvcheck = game.HttpService:JSONDecode(readfile("samesv.json"))
            for i, v in pairs(game.Players:GetChildren()) do
                if v.Name ~= game.Players.LocalPlayer.Name then
                    if table.find(samesvcheck, v.Name) then
                        MyAccount:BlockUser(v.UserId)

                        sec = 60
                        b = Instance.new("ScreenGui", game.CoreGui)
                        ttd = Instance.new("Frame", b)
                        ttd.Position = UDim2.new(0.5, 0, 0, 30)
                        local TimerJail = Instance.new("TextLabel", ttd)
                        TimerJail.Name = "TimerJail"
                        TimerJail.AnchorPoint = Vector2.new(0.5, 0)
                        TimerJail.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                        TimerJail.BackgroundTransparency = 1.000
                        TimerJail.Position = UDim2.new(0.5, 0, 0, 30)
                        TimerJail.Size = UDim2.new(0, 200, 0, 50)
                        TimerJail.Font = Enum.Font.SourceSans
                        TimerJail.TextColor3 = Color3.fromRGB(194, 0, 0)
                        TimerJail.TextSize = 35.000
                        TimerJail.Text =
                            "Da block acc " ..
                            v.Name ..
                                ",Dem nguoc " ..
                                    tostring(sec) .. " giay de thoat server khong bat tab roblox khac trong thoi gian nay"
                        spawn(
                            function()
                                while wait(1) do
                                    sec = sec - 1
                                    TimerJail.Text =
                                        "Da block acc " ..
                                        v.Name ..
                                            ",Dem nguoc " ..
                                                tostring(sec) ..
                                                    " giay de thoat server khong bat tab roblox khac trong thoi gian nay"
                                end
                            end
                        )
                        wait(59)
                        MyAccount:LaunchAccount(placeid)
                        wait(2)
                        game:Shutdown()
                    end
                end
            end
        end
    else 
        game.Players.LocalPlayer:Kick("Lỗi file RamSetting.ini vui lòng cài đặt lại")
    end 
else
    game.Players.LocalPlayer:Kick("Sai key hoặc không được whitelist")
    
end
