_G.farm = true
function ClickButton(a)
    game:GetService("VirtualInputManager"):SendMouseButtonEvent(a.AbsolutePosition.X+a.AbsoluteSize.X/2,a.AbsolutePosition.Y+50,0,true,a,1)
    game:GetService("VirtualInputManager"):SendMouseButtonEvent(a.AbsolutePosition.X+a.AbsoluteSize.X/2,a.AbsolutePosition.Y+50,0,false,a,1)
end
function ClickMiddle()
    game:GetService("VirtualInputManager"):SendMouseButtonEvent(workspace.CurrentCamera.ViewportSize.X/2,workspace.CurrentCamera.ViewportSize.Y/2,0,true,a,1)
    game:GetService("VirtualInputManager"):SendMouseButtonEvent(workspace.CurrentCamera.ViewportSize.X/2,workspace.CurrentCamera.ViewportSize.Y/2,0,false,a,1)    
end 
local function getDelivery()
    for i,v in pairs(workspace.Map.Delivery.Cardboard_Box.Box:GetChildren()) do 
        if v.Name == "Attachment" then 
            if v.Visible then 
                for i1,v1 in pairs(workspace.Map.Delivery:GetChildren()) do
                    if v1.Name == "GiaoHang" then 
                        if v1.CFrame == v.WorldCFrame then
                            return v,v1
                        end
                    end
                end
            end
        end
    end
end
game:GetService("RunService").RenderStepped:Connect(function()
    if _G.farm  then
        if game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
            for i,v in next,game.Players.LocalPlayer.Character:GetDescendants() do 
                if (v:IsA("Part") or v:IsA("MeshPart")) and  v.CanCollide then 
                    v.CanCollide = false 
                end
            end
        end
    end
end)    
print(1)
while _G.farm do wait()
    if string.find(game.Players.LocalPlayer.Team,"Giao") then
        if game.Players.LocalPlayer.Character:FindFirstChild("Cardboard_Box") then 
            local Proximity,Giaohangpos = getDelivery()
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = Giaohangpos.CFrame*CFrame.new(0,-10,0)
            fireproximityprompt(v.ProximityPrompt)
        else 
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame =  workspace.Map.Delivery.Cardboard_Box.Box.CFrame*CFrame.new(0,-10,0)
            fireproximityprompt(workspace.Map.Delivery.Cardboard_Box.Box.ProximityPrompt)
        end
    else
        if (game.Players.LocalPlayer.Character.HumanoidRootPart.Position -workspace.Map.Delivery["Giao H\195\160ng"].Position).magnitude < 15 then 
            if game:GetService("Players").LocalPlayer.PlayerGui.Interact.Option.Visible then
                ClickButton(game:GetService("Players").LocalPlayer.PlayerGui.Interact.Option.Yes.Button) 
            else 
                ClickMiddle()
            end 
        else 
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.Map.Delivery["Giao H\195\160ng"].HumanoidRootPart.CFrame
        end
    end
end
